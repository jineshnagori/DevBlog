<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="DevBlog is the website dedicated only for true developers."
    />
    <meta name="keywords" content="DevBlog, Blogs for Developer" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css"
    />

    <link rel="icon" type="image/x-icon" href="assets/img/blog.png" />
    <title>DevBlog - Blog for Developers</title>
    <link rel="stylesheet" href="assets/css/style.css" id="theme-sheet" />
    <link rel="stylesheet" href="assets/css/contributor-flip.css" />

  </head>

  <body>
    <!-- Navbar -->
    <nav
      class="font2 navbar navbar-expand-lg navbar-light shadow-sm bg-light fixed-top"
    >
      <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="index.html">
          <span class="ml-3 font-weight-bold font2">DevBlog</span>
        </a>
        <button
          class="navbar-toggler navbar-toggler-right border-1"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbar4"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbar4">
          <ul class="navbar-nav mx-auto pl-lg-4">
            <li class="nav-item px-lg-2">
              <a class="nav-link" href="index.html"
                ><span class="d-inline-block d-lg-none icon-width pe-1"
                  ><i class="fa-solid fa-house"></i></span
                >Home</a
              >
            </li>
            <li class="nav-item px-lg-2">
              <a class="nav-link" href="about.html"
                ><span class="d-inline-block d-lg-none icon-width pe-1"
                  ><i class="fa-solid fa-user"></i></span
                >About</a
              >
            </li>

            <li class="nav-item px-lg-2">
              <a class="nav-link" href="contact.html"
                ><span class="d-inline-block d-lg-none icon-width pe-1"
                  ><i class="fa-solid fa-envelope"></i></span
                >Contact</a
              >
            </li>

            <li class="nav-item px-lg-2 active">
              <a class="nav-link" href="contributors.html"
                ><span class="d-inline-block d-lg-none icon-width pe-1"
                  ><i class="fa-solid fa-user-group"></i></span
                >Contributors</a
              >
            </li>
          </ul>
          <ul class="navbar-nav ml-auto mt-3 mt-lg-0">
            <button id="themeBtn" onclick="theme()" class="btn-theme">
                <i class="fas fa-sun" id="sun"></i>
                <i class="fas fa-moon" id="moon"></i>
            </button>

            <a class="mx-3 my-1 btn btn-primary" href="AddBlog.html"
              >Add Blog</a
            >
          </ul>
        </div>
      </div>
    </nav>

    <div class="container my-5 pt-5">
      <h2 class="text-center mb-5">Our Contributors</h2>
      <div id="contributors-container" class="row g-4">
        <!-- Contributors will be dynamically loaded here -->
      </div>
    </div>


    <!-- Footer -->
    <div class="footer-dark">
      <footer>
        <div class="container-fluid">
          <div class="row">
            <div class="col-sm-6 col-md-3 item">
              <h3>Services</h3>
              <ul>
                <li><a href="#">Web design</a></li>
                <li><a href="#">Development</a></li>
                <li><a href="#">Hosting</a></li>
                <li><a href="#">Marketing</a></li>
                <li><a href="#">Content</a></li>
              </ul>
            </div>
            <div class="col-sm-6 col-md-3 item">
              <h3>About</h3>
              <ul>
                <li><a href="#">Company</a></li>
                <li><a href="#">Team</a></li>
                <li><a href="#">Careers</a></li>
              </ul>
            </div>
            <div class="col-md-6 item text">
              <h3>DevBlog</h3>
              <p>
                DevBlog is a Blogpost Platform where the Users can Upload their
                Articles and Literatures on the Web and the maintainers of the
                Website can approve of them and then Publish it onto the Blog.
              </p>
            </div>
            <div class="col item social">
              <a href="#"><i class="fab fa-facebook"></i></a
              ><a href="#"><i class="fab fa-twitter"></i></a
              ><a href="#"><i class="fab fa-snapchat"></i></a
              ><a href="#"><i class="fab fa-instagram"></i></a>
            </div>
          </div>
          <p class="copyright">DevBlog Â© 2025</p>
        </div>
      </footer>
    </div>
  </body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

  <script type="module">
    import { Octokit } from "https://cdn.pika.dev/@octokit/core@1.3.2";
    const octokit = new Octokit();
    
    // Function to get user details for additional info
    async function getUserDetails(username) {
      try {
        const response = await octokit.request("GET /users/:username", {
          username: username,
        });
        return response.data;
      } catch (error) {
        console.error(`Error fetching user details for ${username}:`, error);
        return null;
      }
    }
    
    octokit
      .request("GET /repos/:owner/:repo/contributors", {
        owner: "jineshnagori",
        repo: "DevBlog",
      })
      .then(async (response) => {
        const contributorsHtml = await Promise.all(
          response.data.map(async (user) => {
            const userDetails = await getUserDetails(user.login);
            const bio = userDetails?.bio || "Developer and open source contributor";
            const name = userDetails?.name || user.login;
            const location = userDetails?.location || "";
            const company = userDetails?.company || "";
            
            return `
              <div class="col-lg-3 col-md-4 col-sm-6">
                <div class="contributor-card" onclick="toggleFlip(this)">
                  <div class="contributor-card-inner">
                    <div class="contributor-card-front">
                      <img src="${user.avatar_url}" class="rounded-circle p-3" style="width: 120px; height: 120px; object-fit: cover;" alt="${user.login}">
                      <div class="text-center p-3">
                        <h5 class="mb-2">${name}</h5>
                        <p class="text-muted mb-2">@${user.login}</p>
                        <p class="text-primary fw-bold">${user.contributions} contributions</p>
                      </div>
                    </div>
                    <div class="contributor-card-back">
                      <div class="text-center h-100 d-flex flex-column justify-content-center">
                        <img src="${user.avatar_url}" class="rounded-circle mb-3 mx-auto" style="width: 80px; height: 80px; object-fit: cover;" alt="${user.login}">
                        <h6 class="mb-2">${name}</h6>
                        <p class="small text-muted mb-2">${bio}</p>
                        ${location ? `<p class="small mb-1"><i class="fas fa-map-marker-alt me-1"></i>${location}</p>` : ''}
                        ${company ? `<p class="small mb-2"><i class="fas fa-building me-1"></i>${company}</p>` : ''}
                        <a href="${user.html_url}" target="_blank" class="btn btn-primary btn-sm mt-2">
                          <i class="fab fa-github me-1"></i>View Profile
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>`;
          })
        );
        
        document.getElementById("contributors-container").innerHTML = contributorsHtml.join("");
      });
  </script>
  <script>
    var themeSheet = document.querySelector("#theme-sheet");
    var isDarkModeEnabled = localStorage.getItem("isDarkmodeEnabled");

    function applyTheme() {
      if (isDarkModeEnabled === "true") {
        themeSheet.href = "assets/css/darktheme.css";
      } else {
        themeSheet.href = "assets/css/style.css";
      }
    }

    applyTheme();

    function theme() {
      if (themeSheet.getAttribute("href") == "assets/css/style.css") {
        themeSheet.href = "assets/css/darktheme.css";
        localStorage.setItem("isDarkmodeEnabled", true);
      } else {
        themeSheet.href = "assets/css/style.css";
        localStorage.setItem("isDarkmodeEnabled", false);
      }
    }

    // Function to toggle flip on mobile devices
    function toggleFlip(card) {
      // Only toggle on click for mobile devices
      if (window.innerWidth <= 768) {
        card.classList.toggle('flipped');
      }
    }

    // Add event listeners for better mobile interaction
    document.addEventListener('DOMContentLoaded', function() {
      // Reset flip state when clicking outside cards on mobile
      document.addEventListener('click', function(e) {
        if (window.innerWidth <= 768 && !e.target.closest('.contributor-card')) {
          document.querySelectorAll('.contributor-card.flipped').forEach(card => {
            card.classList.remove('flipped');
          });
        }
      });
    });
  </script>
  <!-- Fontawesome Script -->
  <script
    src="https://kit.fontawesome.com/6d2226036d.js"
    crossorigin="anonymous"
  ></script>
</html>